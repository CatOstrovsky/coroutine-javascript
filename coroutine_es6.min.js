"use strict";
/** 
 ********* Unity Coroutine implementation for JavaScript ***********
 *******************************************************************
 ******* Copyright Konstantin Ostrovsky [ska_live@mail.ru] *********
 *******************************************************************
 *******************************************************************
 *******************************************************************
 **** Writen for article https://web-panda.ru/post/coroutine-js ****
 *******************************************************************
 */
function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}window,window.WaitForSeconds=function(t){var o=this,n=_typeof(t)!=_typeof(1);return this.seconds=t,this.activate=function(){return new Promise(function(t,e){n?console.log("Error while called WaitForSeconds typeof",o.seconds):setTimeout(function(){t()},1e3*o.seconds)})},this},window.WaitWhile=function(t){var o=this,n=_typeof(t)!=_typeof(function(){});return this.func=t,this.activate=function(){return new Promise(function(t,e){if(n)console.log("Error while called WaitWhile typeof",o.func);else var i=setInterval(function(){!1===o.func()&&(clearInterval(i),t())},10)})},this},window.WaitPromise=function(t){var o=this,n=_typeof(t)!=_typeof(function(){});this.promise=t,this.activate=function(){return new Promise(function(t,e){n?console.log("Error while called WaitPromise typeof",o.promise):o.promise().then(function(){t()})})}},window.StartCoroutine=function(t){var o=this;return new Promise(function(n){var e=function(){var t=o.coroutine.next();0==t.value||t.done?n():i(t.value)},i=function(t){t&&"object"==_typeof(t)&&t.hasOwnProperty("activate")?t.activate().then(function(){return e()}):e()};o.coroutine=t(),e()})};