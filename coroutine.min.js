/** 
 ********* Unity Coroutine implementation for JavaScript ***********
 *******************************************************************
 ******* Copyright Konstantin Ostrovsky [ska_live@mail.ru] *********
 *******************************************************************
 *******************************************************************
 *******************************************************************
 **** Writen for article https://web-panda.ru/post/coroutine-js ****
 *******************************************************************
 */
window,window.WaitForSeconds=function(e){var t="number"!=typeof e;return this.seconds=e,this.activate=(()=>new Promise((e,i)=>{t?console.log("Error while called WaitForSeconds typeof",this.seconds):setTimeout(()=>{e()},1e3*this.seconds)})),this},window.WaitWhile=function(e){var t="function"!=typeof e;return this.func=e,this.activate=(()=>new Promise((e,i)=>{if(t)console.log("Error while called WaitWhile typeof",this.func);else var o=setInterval(()=>{!1===this.func()&&(clearInterval(o),e())},10)})),this},window.WaitPromise=function(e){var t="function"!=typeof e;this.promise=e,this.activate=(()=>new Promise((e,i)=>{t?console.log("Error while called WaitPromise typeof",this.promise):this.promise().then(()=>{e()})}))},window.StartCoroutine=function(e){return new Promise(t=>{let i=()=>{var e=this.coroutine.next();0==e.value||e.done?t():o(e.value)},o=e=>{e&&"object"==typeof e&&e.hasOwnProperty("activate")?e.activate().then(()=>i()):i()};this.coroutine=e(),i()})};